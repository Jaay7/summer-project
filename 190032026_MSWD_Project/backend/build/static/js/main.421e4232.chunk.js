(this["webpackJsonpsummer-project"]=this["webpackJsonpsummer-project"]||[]).push([[0],{186:function(e,t,a){},229:function(e,t,a){"use strict";a.r(t);var n,r,i=a(0),c=a.n(i),s=a(18),o=a.n(s),l=(a(186),a(10)),d=a(16),j=a(24),b=a(165),u=a(300),x=a(17),p=a(268),h=a(269),m=a(65),O=a(266),g=a(309),f=a(155),y=a.n(f),v=a(1),k=Object(O.a)((function(e){return Object(g.a)({root:{boxShadow:"none",flexGrow:1},appbar:{backgroundColor:e.palette.background.default,boxShadow:"none",borderBottom:"dark"===e.palette.type?"1px solid #616161":"1px solid #e2e2e2",zIndex:1},link:{color:e.palette.text.secondary,textDecoration:"none","&:hover":{color:e.palette.text.primary}}})})),C=function(){var e=k();return Object(v.jsx)("div",{className:e.root,children:Object(v.jsx)(p.a,{position:"static",className:e.appbar,children:Object(v.jsxs)(h.a,{children:[Object(v.jsx)(m.a,{variant:"h5",children:Object(v.jsx)(d.b,{to:"/",className:e.link,children:"Messaging Application"})}),Object(v.jsx)("span",{style:{flexGrow:.8}}),Object(v.jsx)(m.a,{children:Object(v.jsx)(d.b,{to:"/search",className:e.link,children:"Search"})}),Object(v.jsx)("span",{style:{flexGrow:.05}}),Object(v.jsx)(m.a,{children:Object(v.jsx)(d.b,{to:"/inbox",className:e.link,children:"Inbox"})}),Object(v.jsx)("span",{style:{flexGrow:.05}}),Object(v.jsx)(m.a,{children:Object(v.jsx)(d.b,{to:"/profile",className:e.link,children:"Profile"})}),Object(v.jsx)("span",{style:{flexGrow:.05}}),Object(v.jsx)(d.b,{to:"/settings",className:e.link,children:Object(v.jsx)(y.a,{})})]})})})},S=a(270),w=a(271),N=a(272),D=a(109),I=a.n(D),U=a(99),$=a.n(U),F=a(303),A=a(307),B=Object(O.a)((function(e){return Object(g.a)({cards:{padding:25,borderRadius:15},box:{display:"flex",alignItems:"center",backdropFilter:"blur(10px)",justifyContent:"space-between"},root:{minHeight:"100vh",backgroundColor:"dark"===e.palette.type?"#111111":"#fff"},sfubox:{backgroundColor:"dark"===e.palette.type?"#2E7D32":"#A5D6A7"},gotbox:{backgroundColor:"dark"===e.palette.type?"#EF6C00":"#FFCC80"},mpbox:{backgroundColor:"dark"===e.palette.type?"#C62828":"#EF9A9A"}})})),G=Object(F.a)(n||(n=Object(x.a)(["\n  query UserProfile {\n    profile{\n      id\n      name\n      email\n      username\n    }\n  }\n\n"]))),R=function(){var e=B(),t=Object(A.a)(G,{context:{headers:{Authorization:localStorage.getItem("token")}},pollInterval:500}),a=t.loading,n=t.error;t.data;return Object(v.jsxs)("div",{className:e.root,children:[Object(v.jsx)(C,{}),a?Object(v.jsx)("div",{style:{display:"flex",justifyContent:"center",height:"89vh"},children:Object(v.jsx)(S.a,{})}):n?Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("p",{children:n.message}),Object(v.jsx)(j.a,{to:"/login"})]}):Object(v.jsxs)(w.a,{container:!0,spacing:0,children:[Object(v.jsx)(w.a,{item:!0,xs:3}),Object(v.jsxs)(w.a,{item:!0,xs:6,style:{height:"89vh",alignItems:"center",justifyContent:"space-evenly",display:"flex",flexDirection:"column"},children:[Object(v.jsx)(m.a,{variant:"h3",color:"textPrimary",children:"A new way to unite with people."}),Object(v.jsxs)(w.a,{container:!0,spacing:4,children:[Object(v.jsx)(w.a,{item:!0,xs:6,children:Object(v.jsx)(d.b,{to:"/search",style:{textDecoration:"none"},children:Object(v.jsx)(N.a,{variant:"outlined",className:"".concat(e.cards," ").concat(e.sfubox),children:Object(v.jsxs)("div",{className:e.box,children:[Object(v.jsxs)("div",{style:{display:"flex"},children:[Object(v.jsx)($.a,{style:{fontSize:35}}),Object(v.jsx)(m.a,{variant:"h5",style:{paddingLeft:10},children:"Search for Users"})]}),Object(v.jsx)(I.a,{style:{fontSize:40}})]})})})}),Object(v.jsx)(w.a,{item:!0,xs:6,children:Object(v.jsx)(d.b,{to:"/inbox",style:{textDecoration:"none"},children:Object(v.jsx)(N.a,{variant:"outlined",className:"".concat(e.cards," ").concat(e.gotbox),children:Object(v.jsxs)("div",{className:e.box,children:[Object(v.jsx)(m.a,{variant:"h5",children:"Go to Inbox"}),Object(v.jsx)(I.a,{style:{fontSize:40}})]})})})}),Object(v.jsx)(w.a,{item:!0,xs:6,children:Object(v.jsx)(d.b,{to:"/profile",style:{textDecoration:"none"},children:Object(v.jsx)(N.a,{variant:"outlined",className:"".concat(e.cards," ").concat(e.mpbox),children:Object(v.jsxs)("div",{className:e.box,children:[Object(v.jsx)(m.a,{variant:"h5",children:"My Profile"}),Object(v.jsx)(I.a,{style:{fontSize:40}})]})})})})]})]}),Object(v.jsx)(w.a,{item:!0,xs:3})]})]})},T=a(22),M=a.n(T),W=a(30),z=a(11),E=a(273),P=a(302),H=a(235),L=a(281),q=a(110),Y=a(308),V=a(7),J=a(310),_=Object(V.a)((function(e){return{root:{color:e.palette.getContrastText("#0e9170"),background:"linear-gradient(152deg, #2193b0 0%, #6dd5ed 100%)","&:hover":{backgroundColor:"#1a866b96"}}}}))(E.a),K=Object(V.a)({root:{"& label.Mui-focused":{color:"#1890ff"},"& .MuiInput-underline:after":{borderBottomColor:"#1890ff"},"& .MuiOutlinedInput-root":{"&.Mui-focused fieldset":{borderColor:"#1890ff"}}}})(P.a),Q=Object(O.a)((function(e){return Object(g.a)({main:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",height:"100vh",backgroundColor:"dark"===e.palette.type?"#111111":"#fff"},root:{height:"70vh",width:"80%"},paper:{padding:e.spacing(2),margin:"0px 30px",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",minHeight:"100%"},image:{backgroundImage:'url("https://images.unsplash.com/photo-1530811761207-8d9d22f0a141?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1050&q=80")',backgroundRepeat:"no-repeat",backgroundColor:"light"===e.palette.type?e.palette.grey[50]:e.palette.grey[900],backgroundSize:"cover",backgroundPosition:"center"},form:{width:"100%",marginTop:e.spacing(1),alignSelf:"center"},submit:{margin:e.spacing(3,0,2)}})}));function X(e){return Object(v.jsx)(H.a,Object(z.a)(Object(z.a)({},e),{},{direction:"up"}))}var Z,ee=Object(F.a)(r||(r=Object(x.a)(["\nmutation LoginUser($username: String!, $password: String!) {\n  login(username: $username, password: $password) {\n    user {\n      id\n      name\n      username\n      email\n    }\n    token\n    refreshToken\n  }\n}\n"]))),te=function(){var e=Q(),t=Object(j.g)(),a=c.a.useState(""),n=Object(l.a)(a,2),r=n[0],i=n[1],s=c.a.useState(""),o=Object(l.a)(s,2),b=o[0],u=o[1],x=c.a.useState({open:!1,message:"",Transition:H.a}),p=Object(l.a)(x,2),h=p[0],O=p[1],g=Object(J.a)(ee),f=Object(l.a)(g,2),y=f[0],k=f[1],C=k.error,S=k.data,N=function(){var e=Object(W.a)(M.a.mark((function e(){var a,n,i;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y({variables:{username:r,password:b}});case 2:a=e.sent,C?O({open:!0,Transition:X,message:C.message}):(console.log(null===S||void 0===S?void 0:S.token),n=a.data.login.token,i=a.data.login.user.username,localStorage.setItem("token",n),localStorage.setItem("user",i),t.push("/"));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(v.jsxs)("div",{className:e.main,children:[void 0!==localStorage.getItem("token")&&null!==localStorage.getItem("token")?Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(m.a,{children:"You are already loggedin"}),Object(v.jsx)(j.a,{to:"/"})]}):Object(v.jsxs)(w.a,{container:!0,component:"main",className:e.root,children:[Object(v.jsx)(L.a,{}),Object(v.jsx)(w.a,{item:!0,xs:!1,sm:4,md:8,className:e.image}),Object(v.jsx)(w.a,{item:!0,xs:12,sm:8,md:4,component:q.a,elevation:6,square:!0,children:Object(v.jsx)("div",{className:e.paper,children:Object(v.jsxs)("div",{children:[Object(v.jsx)(m.a,{component:"h1",variant:"h5",children:"Login Here,"}),Object(v.jsxs)("div",{className:e.form,children:[Object(v.jsx)(K,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"username",label:"Username",name:"username",type:"text",size:"small",onChange:function(e){i(e.target.value)}}),Object(v.jsx)(K,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",size:"small",type:"password",id:"password",onChange:function(e){u(e.target.value)}}),Object(v.jsx)(d.b,{to:"/",style:{color:"#0083B0",textDecoration:"none"},children:"Forgot password?"}),Object(v.jsx)(_,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:e.submit,onClick:N,children:Object(v.jsx)(m.a,{style:{textDecoration:"none",color:"#fff"},children:"Login"})}),Object(v.jsxs)(w.a,{container:!0,children:[Object(v.jsx)(w.a,{item:!0,xs:!0}),Object(v.jsx)(w.a,{item:!0,children:Object(v.jsx)(d.b,{to:"/signup",style:{color:"#0083B0"},children:"Don't have an account? Sign Up"})})]})]})]})})})]}),Object(v.jsx)(Y.a,{open:h.open,anchorOrigin:{vertical:"bottom",horizontal:"right"},onClose:function(){O(Object(z.a)(Object(z.a)({},h),{},{open:!1}))},autoHideDuration:2500,TransitionComponent:h.Transition,message:h.message},h.Transition.name)]})},ae=Object(V.a)((function(e){return{root:{color:e.palette.getContrastText("#0e9170"),background:"linear-gradient(152deg, #2193b0 0%, #6dd5ed 100%)","&:hover":{backgroundColor:"#1a866b96"}}}}))(E.a),ne=Object(V.a)({root:{"& label.Mui-focused":{color:"#1890ff"},"& .MuiInput-underline:after":{borderBottomColor:"#1890ff"},"& .MuiOutlinedInput-root":{"&.Mui-focused fieldset":{borderColor:"#1890ff"}}}})(P.a),re=Object(O.a)((function(e){return Object(g.a)({main:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",height:"100vh",backgroundColor:"dark"===e.palette.type?"#111111":"#fff"},root:{height:"70vh",width:"80%"},paper:{padding:e.spacing(2),margin:"0px 30px",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",minHeight:"100%"},image:{backgroundImage:"url(https://images.unsplash.com/photo-1506377711776-dbdc2f3c20d9?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=1050&q=80)",backgroundRepeat:"no-repeat",backgroundColor:"light"===e.palette.type?e.palette.grey[50]:e.palette.grey[900],backgroundSize:"cover",backgroundPosition:"center"},form:{width:"100%",marginTop:e.spacing(1),alignSelf:"center"},submit:{margin:e.spacing(3,0,2)}})}));function ie(e){return Object(v.jsx)(H.a,Object(z.a)(Object(z.a)({},e),{},{direction:"up"}))}var ce,se,oe,le,de,je,be=Object(F.a)(Z||(Z=Object(x.a)(["\n  mutation RegisterUser($name: String!, $email: String!, $password: String!, $username: String!) {\n    register(\n      name: $name,\n      email: $email,\n      password: $password,\n      username: $username,\n    ) {\n      user {\n        id\n        name\n        email\n        username\n      }\n      token\n      refreshToken\n    }\n  }\n"]))),ue=function(){var e=re(),t=Object(j.g)(),a=c.a.useState(""),n=Object(l.a)(a,2),r=n[0],i=n[1],s=c.a.useState(""),o=Object(l.a)(s,2),b=o[0],u=o[1],x=c.a.useState(""),p=Object(l.a)(x,2),h=p[0],O=p[1],g=c.a.useState(""),f=Object(l.a)(g,2),y=f[0],k=f[1],C=c.a.useState({open:!1,message:"",Transition:H.a}),S=Object(l.a)(C,2),N=S[0],D=S[1],I=Object(J.a)(be),U=Object(l.a)(I,2),$=U[0],F=U[1],A=F.error,B=F.data,G=function(){var e=Object(W.a)(M.a.mark((function e(){var a,n,i;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$({variables:{name:b,email:h,password:y,username:r}});case 2:a=e.sent,A?(console.log(A),D({open:!0,Transition:ie,message:A.message})):(console.log(null===B||void 0===B?void 0:B.token),n=a.data.register.token,i=a.data.register.user.username,localStorage.setItem("token",n),localStorage.setItem("user",i),t.push("/"));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(v.jsxs)("div",{className:e.main,children:[void 0!==localStorage.getItem("token")&&null!==localStorage.getItem("token")?Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(m.a,{children:"You are already loggedin"}),Object(v.jsx)(j.a,{to:"/"})]}):Object(v.jsxs)(w.a,{container:!0,component:"main",className:e.root,children:[Object(v.jsx)(L.a,{}),Object(v.jsx)(w.a,{item:!0,xs:!1,sm:4,md:8,className:e.image}),Object(v.jsx)(w.a,{item:!0,xs:12,sm:8,md:4,component:q.a,elevation:6,square:!0,children:Object(v.jsx)("div",{className:e.paper,children:Object(v.jsxs)("div",{children:[Object(v.jsx)(m.a,{component:"h1",variant:"h5",children:"Signup Here,"}),Object(v.jsxs)("div",{className:e.form,children:[Object(v.jsx)(ne,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"name",label:"Name",name:"name",type:"text",size:"small",onChange:function(e){u(e.target.value)}}),Object(v.jsx)(ne,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"username",label:"Username",size:"small",name:"username",type:"text",onChange:function(e){i(e.target.value)}}),Object(v.jsx)(ne,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",size:"small",label:"Email",name:"email",type:"email",onChange:function(e){O(e.target.value)}}),Object(v.jsx)(ne,{variant:"outlined",margin:"normal",required:!0,size:"small",fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",onChange:function(e){k(e.target.value)}}),Object(v.jsx)(ae,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:e.submit,onClick:G,children:Object(v.jsx)(m.a,{style:{textDecoration:"none",color:"#fff"},children:"Signup"})}),Object(v.jsxs)(w.a,{container:!0,children:[Object(v.jsx)(w.a,{item:!0,xs:!0}),Object(v.jsx)(w.a,{item:!0,children:Object(v.jsx)(d.b,{to:"/login",style:{color:"#0083B0"},children:"Already have an account? Login"})})]})]})]})})})]}),Object(v.jsx)(Y.a,{open:N.open,anchorOrigin:{vertical:"bottom",horizontal:"right"},onClose:function(){D(Object(z.a)(Object(z.a)({},N),{},{open:!1}))},autoHideDuration:2500,TransitionComponent:N.Transition,message:N.message},N.Transition.name)]})},xe=a(301),pe=a(305),he=a(299),me=Object(O.a)((function(e){return Object(g.a)({root:{width:"100%",minHeight:"100vh",backgroundColor:"dark"===e.palette.type?"#111111":"#fff"},heading:{fontSize:e.typography.pxToRem(16),flexBasis:"33.33%",flexShrink:0},secondaryHeading:{fontSize:e.typography.pxToRem(15),color:e.palette.text.secondary},details:{backgroundColor:"dark"===e.palette.type?"#464646":"#FCF3F4"},summary:{backgroundColor:"dark"===e.palette.type?"#000":"#FAFAFA",opacity:.8},buttons:{backgroundColor:"#D32F2F",color:"#fff","&:hover":{backgroundColor:"#EF5350"}}})})),Oe=Object(F.a)(ce||(ce=Object(x.a)(["\n  query UserProfile {\n    profile{\n      id\n      name\n      email\n      username\n    }\n  }\n\n"]))),ge=function(){var e=me(),t=c.a.useState(!1),a=Object(l.a)(t,2),n=(a[0],a[1],Object(A.a)(Oe,{context:{headers:{Authorization:localStorage.getItem("token")}},pollInterval:500})),r=n.loading,i=n.error,s=n.data;return Object(v.jsxs)("div",{className:e.root,children:[Object(v.jsx)(C,{}),r?Object(v.jsx)("div",{style:{display:"flex",justifyContent:"center",height:"89vh"},children:Object(v.jsx)(S.a,{})}):i?Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("p",{children:i.message}),Object(v.jsx)(j.a,{to:"/login"})]}):Object(v.jsxs)(w.a,{container:!0,spacing:0,children:[Object(v.jsx)(w.a,{item:!0,xs:3}),Object(v.jsx)(w.a,{item:!0,xs:6,children:Object(v.jsxs)("div",{children:[Object(v.jsxs)(m.a,{children:["Name: ",s.profile.name]}),Object(v.jsxs)(m.a,{children:["Username: ",s.profile.username]}),Object(v.jsxs)(m.a,{children:["Email: ",s.profile.email]})]})}),Object(v.jsx)(w.a,{item:!0,xs:3})]})]})},fe=a(100),ye=a(237),ve=a(282),ke=a(312),Ce=a.p+"static/media/searchImg.b7bec5a0.svg",Se=a.p+"static/media/noData.cf33a984.svg",we=Object(O.a)((function(e){return Object(g.a)({inputRoot:{color:"dark"===e.palette.type?"#f1f1f1":"inherit",borderRadius:10,paddingLeft:"calc(1em + ".concat(e.spacing(2),"px)"),backgroundColor:"dark"===e.palette.type?"#424242":"#eeeeee"},inputInput:Object(fe.a)({padding:e.spacing(1,1,1,0),height:40,transition:e.transitions.create("width"),width:"100%"},e.breakpoints.up("sm"),{width:"50ch","&:focus":{width:"60ch"}}),itemss:{padding:25,minWidth:"30%",height:"25vh",display:"flex",alignItems:"center",flexDirection:"column",marginRight:20,marginBottom:20,backgroundColor:"dark"===e.palette.type?"#272727":"#f1f1f1",borderRadius:10,"&:hover":{boxShadow:"dark"===e.palette.type?"0px 0px 10px #494949":"0px 0px 10px #c4c4c4",transform:"translate(0px, -15px)"},transition:"transform 0.5s"},root:{backgroundColor:"dark"===e.palette.type?"#111111":"#fff",minHeight:"100vh"},content:{display:"flex",width:"100%",flexDirection:"row",flexWrap:"wrap",justifyContent:"center"}})})),Ne=Object(F.a)(se||(se=Object(x.a)(["\n  query SearchUser($letter: String!) {\n    searchUser(letter: $letter) {\n      name\n      username\n      email\n      id\n    }\n  }\n"]))),De=function(){var e=we(),t=Object(i.useState)(""),a=Object(l.a)(t,2),n=a[0],r=a[1],c=Object(A.a)(Ne,{variables:{letter:n}}),s=c.loading,o=c.error,j=c.data;return Object(v.jsxs)("div",{className:e.root,children:[Object(v.jsx)(C,{}),Object(v.jsx)("div",{style:{width:"100%",alignItems:"center",display:"flex",flexDirection:"column",marginTop:50},children:Object(v.jsx)(ye.a,{placeholder:"Search for the Users\u2026",autoFocus:!0,classes:{root:e.inputRoot,input:e.inputInput},startAdornment:Object(v.jsx)(ve.a,{position:"start",children:Object(v.jsx)($.a,{})}),onChange:function(e){r(e.target.value)},inputProps:{"aria-label":"search"}})}),Object(v.jsx)("br",{}),Object(v.jsx)("br",{}),Object(v.jsx)("br",{}),s?Object(v.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:Object(v.jsx)(S.a,{})}):o?Object(v.jsx)(v.Fragment,{children:o.message}):""===n?Object(v.jsx)("div",{style:{display:"flex",height:"68vh",justifyContent:"center",alignContent:"center"},children:Object(v.jsx)("img",{src:Ce,alt:"",style:{height:200,width:350}})}):0===j.searchUser.length?Object(v.jsxs)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column"},children:[Object(v.jsx)("img",{src:Se,alt:"",style:{height:200,width:350}}),Object(v.jsx)("br",{}),Object(v.jsx)("br",{}),Object(v.jsx)(m.a,{variant:"h5",style:{color:"#464646"},children:"No results found"})]}):Object(v.jsxs)(w.a,{container:!0,spacing:0,children:[Object(v.jsx)(w.a,{item:!0,xs:2}),Object(v.jsx)(w.a,{item:!0,xs:8,className:e.content,children:j.searchUser.map((function(t){return Object(v.jsx)("div",{children:Object(v.jsxs)(N.a,{variant:"outlined",className:e.itemss,children:[Object(v.jsx)(ke.a,{style:{height:60,width:60},children:t.username.charAt(0).toUpperCase()}),Object(v.jsx)("span",{style:{flexGrow:1}}),Object(v.jsx)(m.a,{variant:"h6",color:"textPrimary",children:t.username}),Object(v.jsx)(m.a,{color:"textSecondary",children:t.name}),Object(v.jsx)("span",{style:{flexGrow:1}}),Object(v.jsx)(d.b,{style:{textDecoration:"none"},to:"/profile/".concat(t.username),children:Object(v.jsx)(E.a,{variant:"outlined",style:{backgroundColor:"#0277BD",color:"#fff",height:30,width:130,textTransform:"capitalize"},children:"View Profile"})})]})},t.username)}))}),Object(v.jsx)(w.a,{item:!0,xs:2})]})]})},Ie=a(106),Ue=a(107),$e=a(283),Fe=a(304),Ae=a(306),Be=a(284),Ge=a(285),Re=a(286),Te=a(287),Me=a(288),We=a(274),ze=a(313),Ee=a(276),Pe=a(289),He=a(290),Le=a(291),qe=a(292),Ye=a(293),Ve=a.p+"static/media/emtInbox.342a16fa.svg",Je=a(159),_e=a.n(Je);Object(V.a)((function(e){return Object(g.a)({badge:{right:-20,top:16,height:25,width:25,borderRadius:"50%",border:"2px solid ".concat(e.palette.background.paper),padding:"0 4px",backgroundColor:"light"===e.palette.type?"#FF8A80":"#D32F2F",color:e.palette.text.secondary}})}))($e.a);function Ke(e){var t=e.children,a=e.value,n=e.index,r=Object(Ue.a)(e,["children","value","index"]);return Object(v.jsx)("div",Object(z.a)(Object(z.a)({role:"tabpanel",hidden:a!==n,id:"simple-tabpanel-".concat(n),"aria-labelledby":"simple-tab-".concat(n)},r),{},{children:a===n&&Object(v.jsx)(Fe.a,{children:Object(v.jsx)(m.a,{children:t})})}))}function Qe(e){return{id:"simple-tab-".concat(e),"aria-controls":"simple-tabpanel-".concat(e)}}var Xe=Object(V.a)({indicator:{display:"flex",justifyContent:"center",backgroundColor:"transparent","& > span":{maxWidth:70,width:"100%",backgroundColor:"#AED581"}}})((function(e){return Object(v.jsx)(Ae.a,Object(z.a)(Object(z.a)({},e),{},{centered:!0,TabIndicatorProps:{children:Object(v.jsx)("span",{})}}))})),Ze=Object(V.a)((function(e){return Object(g.a)({root:{textTransform:"none",color:e.palette.text.primary,fontWeight:e.typography.fontWeightRegular,fontSize:e.typography.pxToRem(16),marginRight:e.spacing(1),"&:focus":{opacity:1,fontWeight:e.typography.fontWeightMedium}}})}))((function(e){return Object(v.jsx)(Be.a,Object(z.a)({disableRipple:!0},e))}));var et,tt,at=c.a.forwardRef((function(e,t){return Object(v.jsx)(H.a,Object(z.a)({direction:"up",ref:t},e))})),nt=Object(O.a)((function(e){return Object(g.a)({tabs:{borderRight:"1px solid ".concat(e.palette.divider)},listlink:{padding:20},root:{minHeight:"100vh",backgroundColor:"dark"===e.palette.type?"#111111":"#fff"},divd:{backgroundColor:"dark"===e.palette.type?"#242424":"#ebebeb"},searchList:{display:"flex",cursor:"pointer"}})})),rt=Object(F.a)(oe||(oe=Object(x.a)(["\n  query RetrieveChats($currentUser: String!) {\n    retrieveChats(currentUser: $currentUser) {\n      currentUser\n      otherUser\n      message\n    }\n  }\n"]))),it=Object(F.a)(le||(le=Object(x.a)(["\n  query RetrieveGroups($currentUser: String!) {\n    retrieveGroups(currentUser: $currentUser) {\n      id\n      groupName\n      persons\n      chats {\n        sender\n        message\n        date\n      }\n      createdBy\n      createdAt\n      updatedAt\n    }\n  }\n"]))),ct=function(){var e=c.a.useState(0),t=Object(l.a)(e,2),a=t[0],n=t[1],r=c.a.useState(!1),i=Object(l.a)(r,2),s=i[0],o=i[1],d=c.a.useState(""),b=Object(l.a)(d,2),u=b[0],x=b[1],p=c.a.useState(""),h=Object(l.a)(p,2),m=h[0],O=h[1],g=localStorage.getItem("user"),f=function(){o(!1)},y=Object(j.i)(),k=(y.path,y.url,nt());return Object(v.jsxs)("div",{className:k.root,children:[Object(v.jsx)(C,{}),Object(v.jsxs)(w.a,{container:!0,spacing:0,children:[Object(v.jsxs)(w.a,{item:!0,xs:3,style:{height:"91.5vh"},children:[Object(v.jsxs)(Xe,{value:a,onChange:function(e,t){n(t)},"aria-label":"styled tabs example",children:[Object(v.jsx)(Ze,Object(z.a)({label:"Chats"},Qe(0))),Object(v.jsx)(Ze,Object(z.a)({label:"Groups"},Qe(1)))]}),Object(v.jsx)(Ge.a,{}),Object(v.jsx)(Ke,{value:a,index:0,children:Object(v.jsx)(dt,{})}),Object(v.jsx)(Ke,{value:a,index:1,children:Object(v.jsx)(jt,{})})]}),Object(v.jsx)(Ge.a,{orientation:"vertical",flexItem:!0,style:{color:"#727272"}}),Object(v.jsx)(w.a,{item:!0,xs:8,children:Object(v.jsx)(E.a,{onClick:function(){o(!0)},style:{margin:20,textTransform:"capitalize"},children:"Create Group"})})]}),Object(v.jsxs)(Re.a,{open:s,TransitionComponent:at,keepMounted:!0,maxWidth:"sm",fullWidth:!0,onClose:f,"aria-labelledby":"alert-dialog-slide-title","aria-describedby":"alert-dialog-slide-description",children:[Object(v.jsx)(Te.a,{id:"alert-dialog-slide-title",children:"Create New Group"}),Object(v.jsxs)(Me.a,{children:[Object(v.jsx)(We.a,{placeholder:"Enter Group Name...",fullWidth:!0,value:m,onChange:function(e){O(e.target.value)},inputProps:{"aria-label":"description"}}),Object(v.jsx)("br",{}),Object(v.jsx)("br",{}),Object(v.jsx)(We.a,{placeholder:"Search people to add...",fullWidth:!0,value:u,onChange:function(e){x(e.target.value)},inputProps:{"aria-label":"description"}}),Object(v.jsx)(lt,{groupName:m,search:u,classes:k,currentUser:g,handleDialogClose:f,handleDialogCancel:function(){o(!1)}})]})]})]})},st=Object(F.a)(de||(de=Object(x.a)(["\n  query SearchUser($letter: String!) {\n    searchUser(letter: $letter) {\n      name\n      username\n      email\n      id\n    }\n  }\n"]))),ot=Object(F.a)(je||(je=Object(x.a)(["\n  mutation CreateGroup($groupName: String, $createdBy: String!, $persons:[String!]!) {\n    createGroup(groupName: $groupName, createdBy: $createdBy, persons: $persons) {\n      id\n      groupName\n      persons\n      createdBy\n      chats {\n        sender\n        message\n        date\n      }\n      createdAt\n      updatedAt\n    }\n  }\n"]))),lt=function(e){var t=Object(A.a)(st,{variables:{letter:e.search}}),a=t.loading,n=t.error,r=t.data,i=c.a.useState([]),s=Object(l.a)(i,2),o=s[0],d=s[1],j=Object(J.a)(ot),b=Object(l.a)(j,1)[0],u=function(){var t=Object(W.a)(M.a.mark((function t(){return M.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(void 0===o&&null===o){t.next=4;break}return t.next=3,b({variables:{groupName:e.groupName,createdBy:e.currentUser,persons:o}});case 3:e.handleDialogClose();case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(v.jsxs)("div",{style:{minHeight:"400px",display:"flex",flexDirection:"column"},children:[Object(v.jsx)("br",{}),Object(v.jsx)("div",{style:{display:"flex",flexWrap:"wrap"},children:o.map((function(e){return Object(v.jsx)(ze.a,{label:e,onDelete:function(t){return a=e,void d((function(e){return e.filter((function(e){return e!==a}))}));var a},style:{marginLeft:10}})}))}),a?Object(v.jsx)(S.a,{}):n?Object(v.jsx)(m.a,{children:n.message}):""===e.search?Object(v.jsx)(m.a,{children:"Start search"}):Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("br",{}),Object(v.jsx)("div",{style:{height:260,overflowY:"auto"},children:Object(v.jsx)(Ee.a,{children:r.searchUser.map((function(t){return Object(v.jsxs)(Pe.a,{className:e.classes.searchList,children:[Object(v.jsx)(He.a,{children:Object(v.jsx)(ke.a,{style:{backgroundColor:"orange"},children:t.username.charAt(0).toUpperCase()})}),Object(v.jsx)(Le.a,{id:t.username,primary:t.username}),Object(v.jsx)(qe.a,{onClick:function(){return e=t.username,void(o.includes(e)?console.log("user already to the chips"):d([].concat(Object(Ie.a)(o),[e])));var e},children:Object(v.jsx)(Ye.a,{children:Object(v.jsx)(_e.a,{})})})]},t.username)}))})})]}),Object(v.jsxs)("div",{style:{bottom:10,alignSelf:"flex-end",position:"absolute"},children:[Object(v.jsx)(E.a,{onClick:function(){e.handleDialogCancel()},color:"primary",children:"Cancel"}),Object(v.jsx)(E.a,{onClick:u,color:"primary",children:"Ok"})]})]})},dt=function(){var e=localStorage.getItem("user"),t=Object(A.a)(rt,{variables:{currentUser:e},pollInterval:500}),a=t.loading,n=t.error,r=t.data,i=Object(j.i)(),c=(i.path,i.url),s=nt();return Object(v.jsx)("div",{children:a?Object(v.jsx)(S.a,{}):n?Object(v.jsxs)("p",{children:[n.message,Object(v.jsx)(j.a,{to:"/login"})]}):0===r.retrieveChats.length?Object(v.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",height:"83vh",flexDirection:"column"},children:[Object(v.jsx)("img",{src:Ve,alt:"",style:{height:120,width:220,opacity:.8}}),Object(v.jsx)(m.a,{style:{color:"#BDBDBD"},children:"Oh no! Your inbox is empty"}),Object(v.jsxs)(m.a,{style:{color:"#BDBDBD"},children:["Click here to search for people ",Object(v.jsx)(d.b,{to:"/search",style:{color:"#AED581"},children:"Search"})]})]}):r.retrieveChats.map((function(t){return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsxs)(Pe.a,{className:s.listlink,component:d.b,to:"".concat(c,"/").concat(t.otherUser===e?t.currentUser:t.otherUser),children:[Object(v.jsx)(ke.a,{children:t.username}),Object(v.jsx)("span",{style:{flexGrow:.07}}),Object(v.jsxs)("div",{children:[Object(v.jsx)(m.a,{color:"textPrimary",style:{fontSize:17},children:t.otherUser===e?Object(v.jsx)(v.Fragment,{children:t.currentUser}):Object(v.jsx)(v.Fragment,{children:t.otherUser})}),Object(v.jsx)(m.a,{color:"textSecondary",style:{fontSize:15,overflow:"hidden"},children:t.message})]})]},t.username),Object(v.jsx)(Ge.a,{className:s.divd})]})}))})},jt=function(){var e=localStorage.getItem("user"),t=Object(A.a)(it,{variables:{currentUser:e},pollInterval:500}),a=t.loading,n=t.error,r=t.data,i=Object(j.i)(),c=(i.path,i.url),s=nt();return Object(v.jsx)("div",{children:a?Object(v.jsx)(S.a,{}):n?Object(v.jsxs)("p",{children:[n.message,Object(v.jsx)(j.a,{to:"/login"})]}):0===r.retrieveGroups.length?Object(v.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",height:"83vh",flexDirection:"column",textAlign:"center"},children:[Object(v.jsx)("img",{src:Ve,alt:"",style:{height:120,width:220,opacity:.8}}),Object(v.jsx)(m.a,{style:{color:"#BDBDBD"},children:"Oh no! Your inbox is empty"}),Object(v.jsxs)(m.a,{style:{color:"#BDBDBD"},children:["Click here to search for people ",Object(v.jsx)(d.b,{to:"/search",style:{color:"#AED581"},children:"Search"})]})]}):r.retrieveGroups.map((function(e){return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsxs)(Pe.a,{className:s.listlink,component:d.b,to:"".concat(c,"/group/").concat(e.id),children:[Object(v.jsx)(ke.a,{children:e.groupName.charAt(0).toUpperCase()}),Object(v.jsx)("span",{style:{flexGrow:.07}}),Object(v.jsxs)("div",{children:[Object(v.jsx)(m.a,{color:"textPrimary",style:{fontSize:17,overflow:"hidden"},children:e.groupName}),0===e.chats.length?Object(v.jsx)(m.a,{color:"textSecondary",style:{fontSize:15,overflow:"hidden",fontStyle:"italic"},children:"Start your Conversation"}):Object(v.jsxs)(m.a,{color:"textSecondary",style:{fontSize:15,overflow:"hidden"},children:[e.chats.slice(-1)[0].sender,":",e.chats.slice(-1)[0].message]})]})]},e.id),Object(v.jsx)(Ge.a,{className:s.divd})]})}))})},bt=a(294),ut=a(104),xt=a.n(ut),pt=a(105),ht=(a(150),Object(O.a)((function(e){return Object(g.a)({root:{flexGrow:1,minHeight:"100vh",backgroundColor:"dark"===e.palette.type?"#111111":"#fff"},inputRoot:{color:"dark"===e.palette.type?"#f1f1f1":"inherit",borderRadius:10,marginLeft:20,paddingLeft:"calc(1em + ".concat(e.spacing(2),"px)"),backgroundColor:"dark"===e.palette.type?"#424242":"#eeeeee",paddingRight:"calc(1em + ".concat(e.spacing(2),"px)")},inputInput:{padding:e.spacing(1,1,1,0),height:40,transition:e.transitions.create("width")},chatbox:{borderLeft:"dark"===e.palette.type?"1px solid #303030":"1px solid #e2e2e2",borderRight:"dark"===e.palette.type?"1px solid #303030":"1px solid #e2e2e2",minHeight:"91.5vh",position:"relative"},tabbar:{height:40,borderBottom:"dark"===e.palette.type?"1px solid #303030":"1px solid #e2e2e2",display:"flex",alignItems:"center",flexDirection:"row",padding:10},leftSide:{padding:"5px 15px",borderRadius:"0px 10px 10px 0px",borderLeft:"4px solid #FF8A80",alignSelf:"flex-start",width:"max-content",border:"dark"===e.palette.type?"1px solid #303030":"1px solid #e2e2e2",margin:5,display:"flex",color:e.palette.text.primary,maxWidth:"60%"},rightSide:{padding:"5px 15px",borderRadius:"10px 0px 0px 10px",borderRight:"4px solid #42A5F5",display:"flex",color:e.palette.text.primary,border:"dark"===e.palette.type?"1px solid #303030":"1px solid #e2e2e2",alignSelf:"flex-end",margin:5,maxWidth:"60%"}})}))),mt=Object(F.a)(et||(et=Object(x.a)(["\n  query RetrieveMessages($currentUser: String!, $otherUser: String!) {\n    retrieveMessages(currentUser: $currentUser, otherUser: $otherUser){\n      currentUser\n      otherUser\n      message\n      isSeen\n    }\n  }\n"]))),Ot=Object(F.a)(tt||(tt=Object(x.a)(["\n  mutation SendMessage($currentUser: String!, $otherUser: String!, $message: String!) {\n    sendMessage(currentUser: $currentUser, otherUser: $otherUser, message: $message){\n      currentUser\n      otherUser\n      message\n      isSeen\n    }\n  }\n"])));function gt(e){return Object(v.jsx)(H.a,Object(z.a)(Object(z.a)({},e),{},{direction:"up"}))}var ft,yt,vt,kt,Ct=function(){var e=c.a.useRef();return c.a.useEffect((function(){return e.current.scrollIntoView()})),Object(v.jsx)("div",{ref:e})},St=function(e){var t,a=ht(),n=Object(bt.a)("(min-width:780px)"),r=c.a.useState({open:!1,Transition:H.a}),s=Object(l.a)(r,2),o=s[0],d=s[1],b=localStorage.getItem("user"),u=Object(j.h)().name,x=Object(i.useState)(""),p=Object(l.a)(x,2),h=p[0],O=p[1],g=Object(i.useState)(!1),f=Object(l.a)(g,2),y=f[0],k=f[1],N=Object(A.a)(mt,{variables:{currentUser:b,otherUser:u},pollInterval:500}),D=N.loading,I=N.error,U=N.data,$=Object(J.a)(Ot),F=Object(l.a)($,1)[0],B=function(){var e=Object(W.a)(M.a.mark((function e(){return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""===h){e.next=5;break}return e.next=3,F({variables:{currentUser:b,otherUser:u,message:h}});case 3:e.next=6;break;case 5:d({open:!0,Transition:gt});case 6:O("");case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return y&&(t=Object(v.jsx)(pt.a,{title:"Pick your emoji...",emoji:"point_up",style:{position:"absolute",bottom:70,right:40},onSelect:function(e){return O(h+e.native)}})),Object(v.jsxs)("div",{className:a.root,children:[Object(v.jsx)(C,{}),Object(v.jsxs)(w.a,{container:!0,spacing:0,style:{display:"flex",justifyContent:"center"},children:[Object(v.jsx)(w.a,{item:!0}),Object(v.jsx)(w.a,{item:!0,xs:!0!==n?12:6,children:Object(v.jsxs)("div",{className:a.chatbox,children:[Object(v.jsx)("div",{className:a.tabbar,children:Object(v.jsx)(m.a,{variant:"h6",color:"textPrimary",children:u})}),Object(v.jsx)("div",{style:{flexGrow:1,height:"73vh",overflowY:"auto"},children:D?Object(v.jsx)(v.Fragment,{children:Object(v.jsx)(S.a,{})}):I?Object(v.jsx)(v.Fragment,{children:Object(v.jsx)(j.a,{to:"/login"})}):0===U.retrieveMessages.length?Object(v.jsx)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%"},children:Object(v.jsx)(m.a,{variant:"h5",style:{color:"#BDBDBD"},children:"Start your conversation"})}):Object(v.jsxs)("div",{style:{display:"flex",flexDirection:"column",justifyContent:"flex-end",minHeight:"100%"},children:[U.retrieveMessages.map((function(e){return e.currentUser===b?Object(v.jsx)("div",{className:a.rightSide,children:Object(v.jsx)(m.a,{children:e.message})}):Object(v.jsx)("div",{className:a.leftSide,children:Object(v.jsx)(m.a,{children:e.message})})})),Object(v.jsx)(Ct,{})]})}),t,Object(v.jsxs)("div",{style:{position:"absolute",bottom:0,flex:.1,width:"100%",display:"flex",paddingBottom:10},children:[Object(v.jsx)(ye.a,{placeholder:"Enter message\u2026",classes:{root:a.inputRoot,input:a.inputInput},fullWidth:!0,autoFocus:!0,value:h,endAdornment:Object(v.jsx)(ve.a,{position:"end",children:Object(v.jsx)(xt.a,{style:{cursor:"pointer"},onClick:function(e){e.preventDefault(),k(!y)}})}),onChange:function(e){O(e.target.value)},inputProps:{"aria-label":"search"}}),Object(v.jsx)(E.a,{variant:"contained",onClick:B,style:{height:35,alignSelf:"center",color:"#fff",backgroundColor:"#C62828",marginLeft:20,marginRight:20},children:"Send"})]})]})}),Object(v.jsx)(w.a,{item:!0})]}),Object(v.jsx)(Y.a,{open:o.open,anchorOrigin:{vertical:"bottom",horizontal:"right"},onClose:function(){d(Object(z.a)(Object(z.a)({},o),{},{open:!1}))},autoHideDuration:2500,TransitionComponent:o.Transition,message:"Can't send empty message"},o.Transition.name)]})},wt=Object(O.a)((function(e){return Object(g.a)({root:{width:"100%",minHeight:"100vh",backgroundColor:"dark"===e.palette.type?"#111111":"#fff"}})})),Nt=Object(F.a)(ft||(ft=Object(x.a)(["\n  query OtherUser($username: String!){\n    otherUser(username: $username) {\n      name\n      username\n      id\n      email\n    }\n  }\n"]))),Dt=function(){var e=Object(j.h)().otherUser,t=wt(),a=Object(A.a)(Nt,{variables:{username:e},pollInterval:500}),n=a.loading,r=a.error,i=a.data;return Object(v.jsxs)("div",{className:t.root,children:[Object(v.jsx)(C,{}),Object(v.jsxs)(w.a,{container:!0,spacing:0,children:[Object(v.jsx)(w.a,{item:!0,xs:3}),Object(v.jsx)(w.a,{item:!0,xs:6,children:n?Object(v.jsx)("div",{style:{display:"flex",justifyContent:"center",height:"89vh"},children:Object(v.jsx)(S.a,{})}):r?Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("p",{children:r.message}),Object(v.jsx)(j.a,{to:"/login"})]}):Object(v.jsxs)("div",{children:[Object(v.jsxs)(m.a,{color:"textPrimary",children:["Name : ",i.otherUser.name," "]}),Object(v.jsxs)(m.a,{color:"textPrimary",children:["Email : ",i.otherUser.email," "]}),Object(v.jsxs)(m.a,{color:"textPrimary",children:["Username : ",i.otherUser.username," "]}),Object(v.jsx)("br",{}),Object(v.jsx)(d.b,{style:{textDecoration:"none"},to:"/inbox/".concat(i.otherUser.username),children:Object(v.jsx)(E.a,{variant:"outlined",style:{backgroundColor:"#81C784",color:"#fff",height:35,textTransform:"capitalize"},children:"Send Message"})})]})}),Object(v.jsx)(w.a,{item:!0,xs:3})]})]})},It=a(81),Ut=a.n(It),$t=a(295),Ft=a(296),At=Object(V.a)({root:{margin:"0px 20px",width:"300px","& label.Mui-focused":{color:"#1890ff"},"& .MuiInput-underline:after":{borderBottomColor:"#1890ff"},"& .MuiOutlinedInput-root":{"&.Mui-focused fieldset":{borderColor:"#1890ff"}}}})(P.a),Bt=Object(V.a)({indicator:{display:"flex",justifyContent:"center",backgroundColor:"transparent","& > span":{maxWidth:40,width:"100%",backgroundColor:"#635ee7"}}})((function(e){return Object(v.jsx)(Ae.a,Object(z.a)(Object(z.a)({},e),{},{TabIndicatorProps:{children:Object(v.jsx)("span",{})}}))})),Gt=Object(V.a)((function(e){return Object(g.a)({root:{textTransform:"none",minWidth:"200px",color:e.palette.text.primary,fontWeight:e.typography.fontWeightRegular,fontSize:e.typography.pxToRem(15),marginRight:e.spacing(1),"&:focus":{opacity:1}}})}))((function(e){return Object(v.jsx)(Be.a,Object(z.a)({disableRipple:!0},e))}));function Rt(e){var t=e.children,a=e.value,n=e.index,r=Object(Ue.a)(e,["children","value","index"]);return Object(v.jsx)("div",Object(z.a)(Object(z.a)({role:"tabpanel",hidden:a!==n,id:"vertical-tabpanel-".concat(n),"aria-labelledby":"vertical-tab-".concat(n)},r),{},{style:{width:"80%"},children:a===n&&Object(v.jsx)(Fe.a,{p:3,children:Object(v.jsx)(m.a,{children:t})})}))}function Tt(e){return{id:"vertical-tab-".concat(e),"aria-controls":"vertical-tabpanel-".concat(e)}}var Mt,Wt,zt,Et,Pt,Ht=Object(O.a)((function(e){return Object(g.a)({root:{minHeight:"100vh",backgroundColor:"dark"===e.palette.type?"#111111":"#fff"},buttons:{backgroundColor:"#D32F2F",color:"#fff","&:hover":{backgroundColor:"#EF5350"}},tabs:{borderRight:"1px solid ".concat(e.palette.divider)},main:{flexGrow:1,minHeight:"88vh",border:"light"===e.palette.type?"1px solid #e2e2e2":"1px solid #464646",borderTop:"none",borderBottom:"none"},container:{flexGrow:1,display:"flex",minHeight:"80vh"},editDetails:{display:"flex",flexGrow:1,width:"100%",flexDirection:"column",justifyContent:"center",alignItems:"center"},fields:{display:"flex",width:"100%",alignItems:"center",justifyContent:"space-around",marginBottom:20}})})),Lt=Object(F.a)(yt||(yt=Object(x.a)(["\n  query UserProfile {\n    profile{\n      id\n      name\n      email\n      username\n    }\n  }\n"]))),qt=Object(F.a)(vt||(vt=Object(x.a)(["\n  mutation EditName($username: String!, $newName: String!) {\n    editName(username: $username, newName: $newName) {\n      id\n      email\n      name\n      username\n    }\n  }\n"]))),Yt=Object(F.a)(kt||(kt=Object(x.a)(["\n  mutation EditEmail($username: String!, $newEmail: String!) {\n    editEmail(username: $username, newEmail: $newEmail) {\n      id\n      email\n      name\n      username\n    }\n  }\n"]))),Vt=function(e){var t=e.onToggleDark,a=localStorage.getItem("user"),n=Object(j.g)(),r=Ht(),i=c.a.useState(0),s=Object(l.a)(i,2),o=s[0],d=s[1],b=c.a.useState(""),u=Object(l.a)(b,2),x=u[0],p=u[1],h=c.a.useState(""),O=Object(l.a)(h,2),g=O[0],f=O[1],y=Object(A.a)(Lt,{context:{headers:{Authorization:localStorage.getItem("token")}},pollInterval:500}),k=y.loading,N=y.error,D=y.data,I=Object(J.a)(qt),U=Object(l.a)(I,1)[0],$=Object(J.a)(Yt),F=Object(l.a)($,1)[0],B=function(){var e=Object(W.a)(M.a.mark((function e(){return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""===x){e.next=3;break}return e.next=3,U({variables:{username:a,newName:x}});case 3:p("");case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),G=function(){var e=Object(W.a)(M.a.mark((function e(){return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""===g){e.next=3;break}return e.next=3,F({variables:{username:a,newEmail:g}});case 3:f("");case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(v.jsxs)("div",{className:r.root,children:[Object(v.jsx)(C,{}),k?Object(v.jsx)("div",{style:{display:"flex",justifyContent:"center",height:"89vh"},children:Object(v.jsx)(S.a,{})}):N?Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("p",{children:N.message}),Object(v.jsx)(j.a,{to:"/login"})]}):Object(v.jsxs)(w.a,{container:!0,children:[Object(v.jsx)(w.a,{item:!0,xs:2}),Object(v.jsxs)("div",{className:r.main,children:[Object(v.jsx)("br",{}),Object(v.jsxs)("div",{className:r.container,children:[Object(v.jsxs)(Bt,{orientation:"vertical",value:o,onChange:function(e,t){d(t)},"aria-label":"Vertical tabs example",className:r.tabs,children:[Object(v.jsx)(Gt,Object(z.a)({label:"Edit Detials"},Tt(0))),Object(v.jsx)(Gt,Object(z.a)({label:"Theme"},Tt(1)))]}),Object(v.jsx)(Rt,{value:o,index:0,children:Object(v.jsxs)("div",{className:r.editDetails,children:[Object(v.jsxs)("div",{className:r.fields,children:[Object(v.jsx)(m.a,{color:"textSecondary",children:"Name: "}),Object(v.jsx)(At,{variant:"standard",margin:"normal",id:"name",name:"name",value:x,placeholder:D.profile.name,type:"text",onChange:function(e){p(e.target.value)}}),Object(v.jsx)(Ye.a,{onClick:B,children:Object(v.jsx)(Ut.a,{})})]}),Object(v.jsxs)("div",{className:r.fields,children:[Object(v.jsx)(m.a,{color:"textSecondary",children:"Email: "}),Object(v.jsx)(At,{variant:"standard",margin:"normal",id:"email",name:"email",placeholder:D.profile.email,value:g,type:"email",onChange:function(e){f(e.target.value)}}),Object(v.jsx)(Ye.a,{onClick:G,children:Object(v.jsx)(Ut.a,{})})]})]})}),Object(v.jsx)(Rt,{value:o,index:1,children:Object(v.jsx)(Ye.a,{onClick:t,children:"light"===localStorage.getItem("theme")?Object(v.jsx)($t.a,{}):Object(v.jsx)(Ft.a,{})})})]}),Object(v.jsx)(E.a,{className:r.buttons,variant:"outlined",onClick:function(){localStorage.removeItem("token"),localStorage.removeItem("user"),n.push("/login")},children:"logout"})]}),Object(v.jsx)(w.a,{item:!0,xs:2})]}),Object(v.jsx)("br",{})]})},Jt=a(31),_t=a(297),Kt=a(298),Qt=a(162),Xt=a.n(Qt),Zt=a(163),ea=a.n(Zt),ta=a(164),aa=a.n(ta),na=Object(O.a)((function(e){return Object(g.a)({root:{flexGrow:1,minHeight:"100vh",backgroundColor:"dark"===e.palette.type?"#111111":"#fff"},inputRoot:{color:"dark"===e.palette.type?"#f1f1f1":"inherit",borderRadius:10,marginLeft:20,paddingLeft:"calc(1em + ".concat(e.spacing(2),"px)"),backgroundColor:"dark"===e.palette.type?"#424242":"#eeeeee",paddingRight:"calc(1em + ".concat(e.spacing(2),"px)")},inputInput:{padding:e.spacing(1,1,1,0),height:40,transition:e.transitions.create("width")},chatbox:{borderLeft:"dark"===e.palette.type?"1px solid #303030":"1px solid #e2e2e2",borderRight:"dark"===e.palette.type?"1px solid #303030":"1px solid #e2e2e2",minHeight:"91.5vh",position:"relative"},tabbar:{height:40,borderBottom:"dark"===e.palette.type?"1px solid #303030":"1px solid #e2e2e2",display:"flex",alignItems:"center",flexDirection:"row",padding:10},leftSide:{padding:"5px 15px",borderRadius:"0px 10px 10px 0px",borderLeft:"4px solid #FF8A80",alignSelf:"flex-start",width:"max-content",border:"dark"===e.palette.type?"1px solid #303030":"1px solid #e2e2e2",margin:5,display:"flex",color:e.palette.text.primary,maxWidth:"60%"},rightSide:{padding:"5px 15px",borderRadius:"10px 0px 0px 10px",borderRight:"4px solid #42A5F5",display:"flex",color:e.palette.text.primary,border:"dark"===e.palette.type?"1px solid #303030":"1px solid #e2e2e2",alignSelf:"flex-end",margin:5,maxWidth:"60%"},sender:{fontSize:14,marginLeft:5,fontStyle:"italic",color:"dark"===e.palette.type?"#9D9D9D":"#727272"},searchList:{display:"flex",cursor:"pointer"},drawer:{width:400,flexShrink:0},drawerItems:{},leave:{width:"100%",padding:"10px 0px",textAlign:"center",borderTop:"1px solid #F93A3A",position:"absolute",bottom:0,color:"#F93A3A",cursor:"pointer","&:hover":{backgroundColor:"rgba(249, 58, 58, 0.3)"}}})})),ra=Object(F.a)(Mt||(Mt=Object(x.a)(["\n  query RetrieveGroupMessages($id: ID!) {\n    retrieveGroupMessages(id: $id) {\n      id\n      groupName\n      persons\n      chats {\n        sender\n        message\n        date\n      }\n      createdBy\n      createdAt\n      updatedAt\n    }\n  }\n"]))),ia=Object(F.a)(Wt||(Wt=Object(x.a)(["\n  mutation SendGroupMessage($id: ID!, $sender: String!, $message: String!) {\n    sendGroupMessage(id: $id, sender: $sender, message: $message) {\n      id\n      persons\n      groupName\n      chats {\n        sender\n        message\n        date\n      }\n      createdBy\n      createdAt\n      updatedAt\n    }\n  }\n"]))),ca=Object(F.a)(zt||(zt=Object(x.a)(["\n  mutation EditGroupName($id: ID!, $groupName: String!) {\n    editGroupName(id: $id, groupName: $groupName){\n      id\n      persons\n      groupName\n      createdBy\n      createdAt\n    }\n  }\n"])));function sa(e){return Object(v.jsx)(H.a,Object(z.a)(Object(z.a)({},e),{},{direction:"up"}))}var oa=function(){var e=c.a.useRef();return c.a.useEffect((function(){return e.current.scrollIntoView()})),Object(v.jsx)("div",{ref:e})},la=c.a.forwardRef((function(e,t){return Object(v.jsx)(H.a,Object(z.a)({direction:"up",ref:t},e))})),da=function(e){var t,a=na(),n=Object(bt.a)("(min-width:780px)"),r=c.a.useState(!1),s=Object(l.a)(r,2),o=s[0],d=s[1],b=c.a.useState(!1),u=Object(l.a)(b,2),x=u[0],p=u[1],h=Object(i.useState)(""),O=Object(l.a)(h,2),g=O[0],f=O[1],y=c.a.useState({open:!1,Transition:H.a}),k=Object(l.a)(y,2),N=k[0],D=k[1],I=function(){d(!1)},U=localStorage.getItem("user"),$=Object(j.h)().id,F=Object(i.useState)(""),B=Object(l.a)(F,2),G=B[0],R=B[1],T=Object(i.useState)(!1),L=Object(l.a)(T,2),q=L[0],V=L[1],_=Object(A.a)(ra,{variables:{id:$},pollInterval:500}),K=_.loading,Q=_.error,X=_.data,Z=Object(J.a)(ia),ee=Object(l.a)(Z,1)[0],te=function(){var e=Object(W.a)(M.a.mark((function e(){return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""===G){e.next=5;break}return e.next=3,ee({variables:{id:$,sender:U,message:G}});case 3:e.next=6;break;case 5:D({open:!0,Transition:sa});case 6:R("");case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ae=Object(J.a)(ca),ne=Object(l.a)(ae,1)[0],re=function(){var e=Object(W.a)(M.a.mark((function e(){return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""===oe){e.next=3;break}return e.next=3,ne({variables:{id:$,groupName:oe}});case 3:le("");case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ie=Object(Jt.a)();q&&(t=Object(v.jsx)(pt.a,{darkMode:"light"!==ie.palette.type,title:"Pick your emoji...",emoji:"point_up",style:{position:"absolute",bottom:70,right:40},onSelect:function(e){return R(G+e.native)}}));var ce=c.a.useState(""),se=Object(l.a)(ce,2),oe=se[0],le=se[1];return K?Object(v.jsx)(S.a,{}):Q?Object(v.jsx)(j.a,{to:"/login"}):Object(v.jsxs)("div",{className:a.root,children:[Object(v.jsx)(C,{}),Object(v.jsxs)(w.a,{container:!0,spacing:0,style:{display:"flex",justifyContent:"center"},children:[Object(v.jsx)(w.a,{item:!0}),Object(v.jsx)(w.a,{item:!0,xs:!0!==n?12:6,children:Object(v.jsxs)("div",{className:a.chatbox,children:[Object(v.jsxs)("div",{className:a.tabbar,children:[Object(v.jsx)(m.a,{variant:"h6",color:"textPrimary",children:X.retrieveGroupMessages.groupName}),Object(v.jsx)("span",{style:{flexGrow:1}}),Object(v.jsx)(Ye.a,{onClick:function(){p(!0)},children:Object(v.jsx)(Xt.a,{})})]}),Object(v.jsx)("div",{style:{flexGrow:1,height:"73vh",overflowY:"auto"},children:0===X.retrieveGroupMessages.length?Object(v.jsx)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%"},children:Object(v.jsx)(m.a,{variant:"h5",style:{color:"#BDBDBD"},children:"Start your conversation"})}):Object(v.jsxs)("div",{style:{display:"flex",flexDirection:"column",justifyContent:"flex-end",minHeight:"100%"},children:[X.retrieveGroupMessages.chats.map((function(e){return e.sender===U?Object(v.jsx)("div",{className:a.rightSide,children:Object(v.jsx)(m.a,{children:e.message})}):Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(m.a,{className:a.sender,children:e.sender}),Object(v.jsx)("div",{className:a.leftSide,children:Object(v.jsx)(m.a,{children:e.message})})]})})),Object(v.jsx)(oa,{})]})}),t,Object(v.jsxs)("div",{style:{position:"absolute",bottom:0,flex:.1,width:"100%",display:"flex",paddingBottom:10},children:[Object(v.jsx)(ye.a,{placeholder:"Enter message\u2026",classes:{root:a.inputRoot,input:a.inputInput},fullWidth:!0,autoFocus:!0,value:G,endAdornment:Object(v.jsx)(ve.a,{position:"end",children:Object(v.jsx)(xt.a,{style:{cursor:"pointer"},onClick:function(e){e.preventDefault(),V(!q)}})}),onChange:function(e){R(e.target.value)},inputProps:{"aria-label":"search"}}),Object(v.jsx)(E.a,{variant:"contained",onClick:te,style:{height:35,alignSelf:"center",backgroundColor:"dark"===ie.palette.type?"#EF9A9A":"#D32F2F",color:"dark"===ie.palette.type?"revert":"#fff",marginLeft:20,marginRight:20},children:"Send"})]})]})})]}),Object(v.jsx)(_t.a,{open:x,anchor:"right",className:a.drawer,onClose:function(){p(!1)},children:Object(v.jsxs)("div",{style:{width:400},children:[Object(v.jsx)(m.a,{variant:"h6",style:{textAlign:"center",padding:10},children:"Details"}),Object(v.jsx)(Ge.a,{}),Object(v.jsxs)("div",{style:{padding:10,display:"flex",justifyContent:"space-between",alignItems:"center"},children:[Object(v.jsx)(P.a,{variant:"standard",value:oe,onChange:function(e){le(e.target.value)},fullWidth:!0,color:"secondary",placeholder:X.retrieveGroupMessages.groupName}),Object(v.jsx)(Ye.a,{style:{color:"dark"===ie.palette.type?"#EF9A9A":"#D32F2F"},onClick:re,children:Object(v.jsx)(Ut.a,{})})]}),Object(v.jsxs)("div",{style:{padding:10,display:"flex",justifyContent:"space-between",alignItems:"center"},children:[Object(v.jsx)(m.a,{style:{fontSize:18},children:"People"}),X.retrieveGroupMessages.createdBy===U?Object(v.jsx)(Ye.a,{onClick:function(){d(!0),p(!1)},style:{color:"dark"===ie.palette.type?"#EF9A9A":"#D32F2F"},children:Object(v.jsx)(ea.a,{})}):Object(v.jsx)(v.Fragment,{})]}),Object(v.jsx)(Ee.a,{style:{padding:10},children:X.retrieveGroupMessages.persons.map((function(e){return Object(v.jsxs)(Pe.a,{children:[Object(v.jsxs)("div",{style:{display:"flex",alignItems:"center",marginBottom:10},children:[Object(v.jsx)(m.a,{children:e}),Object(v.jsx)(aa.a,{style:{height:8,width:8,padding:"0px 6px"}}),Object(v.jsx)(m.a,{color:"textSecondary",style:{fontSize:13},children:X.retrieveGroupMessages.createdBy===e?"admin":"member"})]}),Object(v.jsx)(qe.a,{children:X.retrieveGroupMessages.createdBy===U&&X.retrieveGroupMessages.createdBy!==e?Object(v.jsx)(E.a,{variant:"contained",style:{height:30,textTransform:"capitalize",backgroundColor:"dark"===ie.palette.type?"#EF9A9A":"#D32F2F",color:"dark"===ie.palette.type?"revert":"#fff"},children:"Remove"}):Object(v.jsx)(v.Fragment,{})})]},e)}))}),X.retrieveGroupMessages.createdBy!==U?Object(v.jsx)("div",{className:a.leave,children:Object(v.jsx)(m.a,{children:"Leave Group"})}):Object(v.jsx)("div",{className:a.leave,children:Object(v.jsx)(m.a,{children:"Delete Group"})})]})}),Object(v.jsx)(Y.a,{open:N.open,anchorOrigin:{vertical:"bottom",horizontal:"right"},onClose:function(){D(Object(z.a)(Object(z.a)({},N),{},{open:!1}))},autoHideDuration:2500,TransitionComponent:N.Transition,message:"Can't send empty message"},N.Transition.name),Object(v.jsxs)(Re.a,{open:o,TransitionComponent:la,keepMounted:!0,maxWidth:"sm",fullWidth:!0,onClose:I,"aria-labelledby":"alert-dialog-slide-title","aria-describedby":"alert-dialog-slide-description",children:[Object(v.jsx)(Te.a,{id:"alert-dialog-slide-title",children:"Group info"}),Object(v.jsxs)(Me.a,{children:[Object(v.jsx)(Kt.a,{id:"alert-dialog-slide-description",children:"Add new people into the group chat."}),Object(v.jsx)(We.a,{placeholder:"Search people",fullWidth:!0,value:g,onChange:function(e){f(e.target.value)},inputProps:{"aria-label":"description"}}),Object(v.jsx)(ua,{search:g,classes:a,currentUser:U,id:$,handleDialogClose:I,handleDialogCancel:function(){d(!1),p(!0)}})]})]})]})},ja=Object(F.a)(Et||(Et=Object(x.a)(["\n  query SearchUser($letter: String!) {\n    searchUser(letter: $letter) {\n      name\n      username\n      email\n      id\n    }\n  }\n"]))),ba=Object(F.a)(Pt||(Pt=Object(x.a)(["\n  mutation AddPerosn($id: ID!, $currentUser: String!, $persons: [String!]!) {\n    addPerson(id: $id, currentUser: $currentUser, persons: $persons) {\n      id\n      groupName\n      persons\n      createdBy\n      chats {\n        sender\n        message\n        date\n      }\n      createdAt\n      updatedAt\n    }\n  }\n"]))),ua=function(e){var t=Object(A.a)(ja,{variables:{letter:e.search}}),a=t.loading,n=t.error,r=t.data,i=c.a.useState([]),s=Object(l.a)(i,2),o=s[0],d=s[1],j=Object(J.a)(ba),b=Object(l.a)(j,1)[0],u=function(){var t=Object(W.a)(M.a.mark((function t(){return M.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(void 0===o&&null===o){t.next=4;break}return t.next=3,b({variables:{id:e.id,currentUser:e.currentUser,persons:o}});case 3:e.handleDialogClose();case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(v.jsxs)("div",{style:{minHeight:"350px",display:"flex",flexDirection:"column"},children:[Object(v.jsx)("br",{}),Object(v.jsx)("div",{style:{display:"flex",flexWrap:"wrap"},children:o.map((function(e){return Object(v.jsx)(ze.a,{label:e,onDelete:function(t){return a=e,void d((function(e){return e.filter((function(e){return e!==a}))}));var a},style:{marginLeft:10}})}))}),a?Object(v.jsx)(S.a,{}):n?Object(v.jsx)(m.a,{children:n.message}):""===e.search?Object(v.jsx)(m.a,{children:"Start search"}):Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("br",{}),Object(v.jsx)("div",{style:{height:220,overflowY:"auto"},children:r.searchUser.map((function(t){return Object(v.jsxs)(Pe.a,{className:e.classes.searchList,onClick:function(){return e=t.username,void(o.includes(e)?console.log("user already to the chips"):d([].concat(Object(Ie.a)(o),[e])));var e},children:[Object(v.jsx)(ke.a,{children:t.username.charAt(0).toUpperCase()}),Object(v.jsx)(m.a,{style:{marginLeft:15},children:t.username})]},t.username)}))})]}),Object(v.jsxs)("div",{style:{position:"absolute",bottom:7,alignSelf:"flex-end"},children:[Object(v.jsx)(E.a,{onClick:function(){e.handleDialogCancel()},color:"primary",children:"Cancel"}),Object(v.jsx)(E.a,{onClick:u,color:"primary",children:"Ok"})]})]})},xa=new xe.a({uri:"http://localhost:4000/graphql",cache:new pe.a}),pa=function(){var e=c.a.useState(!0),t=Object(l.a)(e,2),a=t[0],n=t[1],r=Object(b.a)({palette:{type:a?"dark":"light"}});c.a.useEffect((function(){"light"===(localStorage.getItem("theme")||"light")&&n(!1)}),[]);return Object(v.jsx)(he.a,{client:xa,children:Object(v.jsx)(u.a,{theme:r,children:Object(v.jsx)("div",{className:"App",children:Object(v.jsx)(d.a,{children:Object(v.jsx)(c.a.Fragment,{children:Object(v.jsxs)(j.d,{children:[Object(v.jsx)(j.b,{exact:!0,path:"/",children:Object(v.jsx)(R,{})}),Object(v.jsx)(j.b,{exact:!0,path:"/login",component:te}),Object(v.jsx)(j.b,{exact:!0,path:"/signup",component:ue}),Object(v.jsx)(j.b,{exact:!0,path:"/inbox",children:Object(v.jsx)(ct,{})}),Object(v.jsx)(j.b,{exact:!0,path:"/profile",children:Object(v.jsx)(ge,{})}),Object(v.jsx)(j.b,{exact:!0,path:"/search",children:Object(v.jsx)(De,{})}),Object(v.jsx)(j.b,{exact:!0,path:"/profile/:otherUser",children:Object(v.jsx)(Dt,{})}),Object(v.jsx)(j.b,{exact:!0,path:"/inbox/:name",children:Object(v.jsx)(St,{})}),Object(v.jsx)(j.b,{exact:!0,path:"/inbox/group/:id",children:Object(v.jsx)(da,{})}),Object(v.jsx)(j.b,{exact:!0,path:"/settings",children:Object(v.jsx)(Vt,{onToggleDark:function(){localStorage.setItem("theme",a?"light":"dark"),n(!a)}})})]})})})})})})};o.a.render(Object(v.jsx)(pa,{}),document.getElementById("root"))}},[[229,1,2]]]);
//# sourceMappingURL=main.421e4232.chunk.js.map